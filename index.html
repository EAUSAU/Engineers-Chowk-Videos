<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Engineers Chowk Videos</title>
    <style>
        .main{
        display: flex;
        align-items: center;
        /* justify-content: center; */
        flex-direction: column;
        height: auto;
        width: 100%;
         /* border: 1px solid black;  */
        margin-left: auto;
        margin-right: auto;
       } 
       .control{
        display: flex;
        align-items: center;
        justify-content: center;
        height: 60px;
        width: 17rem;
        /* border: 1px solid black;  */
        margin-left: auto;
         position: fixed; 
         z-index: 2;
       }
#content{
    display: flex;
        align-items: center;
        justify-content: center;
        height: 30rem;
        width: 16.9rem;
        /* border: 1px solid black; */
        margin-left: auto;
        margin-right: auto;
        margin-bottom: 20px;
        border-left: 5px solid #fabb05;
  border-right: 5px solid #4285f4;
  border-top: 5px solid #e94235;
  border-bottom: 5px solid #34a853;
  border-radius: 18px;
  z-index: 1;
}
button{
    display: flex;
    align-items: center;
        justify-content: center;
    width: 65px;
    height: 35px;
    border-left: 3px solid #fabb05;
  border-right: 3px solid #4285f4;
  border-top: 3px solid #e94235;
  border-bottom: 3px solid #34a853;
  background-color: white;
  border-radius: 5px;
  margin: 3px;
 
}
button:hover{
  background: conic-gradient(from 332deg at 40% 55%, #e941358a 90deg,#4286f483 90deg 180deg, #34a85386 180deg 275deg,
  #fabd0588 275deg 360deg); 
  border: none;
  /* color: white; */
  text-shadow: 0px 0px 2px #000000;
}
a{
    text-decoration: none;
}
.box{
        display: flex;
        align-items: center;
        /* justify-content: center; */
        flex-direction: column;
        height: auto;
        width: 100%;
         /* border: 1px solid black;  */
         margin-top: 80px;
        margin-left: auto;
        margin-right: auto;
       }
       #Vid{
        height: 30rem;
        width: 17rem;
        border-radius: 14px;
       } 
    </style>
</head>

<body>


<div class="main" id="top">

    <div class="control">
        <a href="#top"><button onclick="filterSelection('all')">All</button></a>
        <a href="#top"><button onclick="filterSelection('category1')">Viral</button></a>
        <a href="#top"><button onclick="filterSelection('category2')">like</button></a>
        <a href="#top"><button onclick="filterSelection('category3')">comment</button></a>
    </div>
<div class="box">

    <!-- Category 1 -->
    <div id="content" class="filterDiv category1"><video id="Vid" src="Videos\4.1M.mp4" controls></video></div>
    <div id="content" class="filterDiv category1"><video id="Vid" src="Videos\1.8M.mp4" controls></video></div>
<!-- Category 2 -->
    <div id="content" class="filterDiv category2"><video id="Vid" src="Videos\200K.mp4" controls></video></div>
    <div id="content" class="filterDiv category2"><video id="Vid" src="Videos\301K.mp4" controls></video></div>
    <!-- Category 3 -->
    <div id="content" class="filterDiv category3"><video id="Vid" src="Videos\6K.mp4" controls></video></div>
    <div id="content" class="filterDiv category3"><video id="Vid" src="Videos\5K.mp4" controls></video></div>
</div>
</div>

<script>
 window.addEventListener("contextmenu", function (e) {
          e.preventDefault();
     });
  
    function filterSelection(category) {
const items = document.getElementsByClassName('filterDiv');

if (category === 'all') {
    for (let item of items) {
        item.style.display = 'block';
    }
} else {
    for (let item of items) {
        if (item.classList.contains(category)) {
            item.style.display = 'block';
        } else {
            item.style.display = 'none';
        }
    }
}
}
// video autoplay

var videos = document.querySelectorAll('.vid');

  // Function to update video playback based on scroll position
  function updateVideoPlayback() {
    videos.forEach(function (video) {
      var videoContainer = video.closest('.filterDiv category');
      var rect = videoContainer.getBoundingClientRect();
      var isVideoInViewport = (
        rect.top >= 0 &&
        rect.bottom <= window.innerHeight
      );

      if (isVideoInViewport) {
        // Calculate the percentage of scroll progress within the video container
        var scrollPercentage = (rect.top / (window.innerHeight - rect.height)) * 100;

        // Update video playback rate based on scroll percentage
        video.playbackRate = scrollPercentage / 100;

        // Uncomment the line below if you want to see the scroll percentage in the console
        // console.log('Scroll Percentage:', scrollPercentage);

        // Play the video if not playing
        if (video.paused) {
          video.play();
        }
      } else {
        // Pause the video if not in the viewport
        video.pause();
      }
    });
  }

  // Attach the updateVideoPlayback function to the scroll event
  window.addEventListener('scroll', updateVideoPlayback);

  // Initial check on page load
  updateVideoPlayback();

// video autoplay




// play pause start
// Get the audio element by ID
var video = document.getElementById("Vid");

// Add an event listener to the document for the space bar key press
document.addEventListener("keydown", function(event) {
  // Check if the pressed key is the space bar (keyCode 32)
  if (event.keyCode === 32) {
    // Prevent the default action of the space bar (e.g., scrolling the page)
    event.preventDefault();

    // Toggle between play and pause
    if (video.paused) {
      video.play();
    } else {
      video.pause();
    }
  }
});
        // play pause end

</script>
</body>
</html>
